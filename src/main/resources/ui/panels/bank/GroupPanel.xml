<?xml version="1.0" encoding="UTF-8"?>
<container xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../PanelSchema.xsd" id="p.group">

	<section>
		<text-display>
			<h1>@{.group.embed.title}@</h1>
			<text>@{.group.embed.description}@</text>
		</text-display>
		<button id="b.konto.dissolve" style="danger" params="konto" disabled="!#isOwner">
			<text>@{.konto.button.dissolve}@</text>
		</button>
	</section>
	
	<separator divider="true" spacing="2" />
	
	<section>
		<text-display>
			<h3>@{.konto.name}@</h3>
			<text>> `{name}`</text>
		</text-display>
		<button id="b.konto.rename" style="secondary" params="konto" 
			disabled="!#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_NAME_CHANGE) 
			|| (!#isAuthorized 
				&amp;&amp; !#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_MEMBER_NAME_CHANGE))">"
			<text>@{.konto.button.rename}@</text>
		</button>
	</section>
	
	<section>
		<text-display>
			<h3>@{.konto.id}@</h3>
			<text>> `{konto}`</text>
		</text-display>
		<button id="b.konto.manager" style="secondary" params="konto" disabled="!#isAuthorized">
			<text>@{.konto.button.manager}@</text>
		</button>
	</section>
	
	<section>
		<text-display>
			<h3>@{.konto.owner}@</h3>
			<text>> {owner}</text>
		</text-display>
		<button id="b.konto.transfer" style="danger" params="konto" disabled="!#isOwner">
			<text>@{.konto.button.transfer-account}@</text>
		</button>
	</section>
	
	<separator divider="true" spacing="1" />
	
	<section>
		<text-display>
			<h2>ðŸ’° @{.konto.balance}@</h2>
			<text>> `{balance}`</text>
		</text-display>
		<button id="b.konto.transaction" style="primary" params="konto" 
			disabled="(!#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_SENDING_TRANSFER) 
			&amp;&amp; !#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_DEPOSIT) 
			&amp;&amp; !#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_WITHDRAWAL)) 
			|| (!#isAuthorized 
				&amp;&amp; !#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_MEMBER_WITHDRAW) 
				&amp;&amp; !#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_MEMBER_DEPOSIT) 
				&amp;&amp; !#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_MEMBER_TRANSFER)) ">
			<text>@{.konto.button.transaction}@</text>
		</button>
	</section>
	
	<separator divider="true" spacing="1" />
	
	<section>
		<text-display>
			<h2>@{.group.members}@</h2>
			<quote>`{memberCount}`</quote>
		</text-display>
		<button id="b.group.members" style="secondary" params="konto">
			<text>@{group.button.members}@</text>
		</button>
	</section>
	
	<separator divider="true" spacing="2" />
	
	<action-row>
		<button id="b.group.leave" style="danger" params="konto" 
			disabled="!#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_LEAVE)"> 
			<text>@{.group.button.leave}@</text>
		</button>
		<button id="b.konto.logs" style="secondary" params="konto"
			disabled="!#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_VIEW_LOGS)">
			<text>@{.konto.button.logs}@</text>
		</button>
		<button id="b.konto.policies" style="secondary" params="konto" 
			disabled="!#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_POLICY_CHANGE)
			|| (!#isAuthorized 
				&amp;&amp; !#account.hasPolicy(T(de.fabiansiemens.hyperion.core.features.bank.AccountPolicies).ALLOW_MEMBER_POLICY_CHANGE))">
			<text>@{.konto.button.policies}@</text>
		</button>
	</action-row>
	
	<section>
		<text-display>
			<subtext>@{.konto.embed.timestamp}@</subtext>
		</text-display>
		<button id="b.konto.refresh" style="success" params="konto">
			<text>@{.common.button.refresh}@</text>
		</button>
	</section>
	
</container>
